<div class="container-fluid">
    <div class="row">
        <div class="col-2">
          <div class="row d-flex justify-content-center pt-2" *ngIf="goals.length !== 0">
            <button type="button" class="btn btn-info custom" [matMenuTriggerFor]="menu">
              Add goal  
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item *ngFor="let goal of goals" (click)="addGoal(goal)">
                    <span>{{goal}} goal</span>
                </button>   
            </mat-menu>
            </div> 
            <div class="row d-flex justify-content-center pt-2">
                <button  type="button" class="btn btn-info custon" (click)="addActivity()">
                    Add activity
                    </button>
            </div> 
        </div>
        <div class="col-7 mt-2">
            <mwl-calendar-week-view
            
                [viewDate]="viewDate"
                [events]="events"
                [refresh]="refresh"
                [dayStartHour]=4
                [dayEndHour]=23
                [weekStartsOn]=2
                [hourSegments]=1
                (hourSegmentClicked)="func($event)"
                (beforeViewRender)="beforeViewRender($event)"
                
            >
            </mwl-calendar-week-view>
            
        </div>
        <div class="col-3 mt-2">
            <mat-card>
                <mat-card-header>
                  <mat-card-title>TODO today</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <table class="table">
                        <tbody>
                            <tr *ngIf="this.sleep && this.sleep.howManyLeft>0">
                              <td>Sleep</td>
                              <td>{{this.sleep.howManyLeft}} hours</td>
                            </tr>
                            <tr *ngIf="this.fruit && this.fruit.howManyLeft>0">
                              <td>Fruit</td>
                              <td>{{this.fruit.howManyLeft}} portions</td>
                            </tr>
                            <tr *ngIf="this.veg && this.veg.howManyLeft>0">
                                <td>Vegetables</td>
                                <td>{{this.veg.howManyLeft}} portions</td>
                              </tr>
                              <tr *ngIf="(!this.veg || this.veg.howManyLeft===0) && (!this.fruit || this.fruit.howManyLeft===0)
                                && (!this.sleep || this.sleep.howManyLeft===0)">
                                <td>No more tasks for today! </td>
                              </tr>
                        </tbody>
                    </table>
                </mat-card-content>
              </mat-card>
              <mat-card class="mt-2">
                <mat-card-header>
                  <mat-card-title>TODO this week </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <table class="table">
                        <tbody>
                            <tr *ngIf="this.workout && this.workout.howManyLeft>0">
                              <td>Workout</td>
                              <td>{{this.workout.goalQuantity}} minutes</td>
                              <td>{{this.workout.howManyLeft}} times</td>
                            </tr>
                            <tr *ngIf="this.meditation && this.meditation.howManyLeft>0">
                              <td>Meditation</td>
                              <td>{{this.meditation.goalQuantity}} minutes</td>
                              <td>{{this.meditation.howManyLeft}} times</td>
                            </tr>
                            <tr *ngIf="this.nature && this.nature.howManyLeft>0">
                                <td>Time in nature</td>
                                <td>{{this.nature.goalQuantity}} minutes</td>
                                <td>{{this.nature.howManyLeft}} times</td>
                              </tr>
                              <tr *ngIf="(!this.workout || this.workout.howManyLeft===0) && (!this.meditation || this.meditation.howManyLeft===0)
                                && (!this.nature || this.nature.howManyLeft===0)">
                                <td>No more tasks for the week! </td>
                              </tr>
                        </tbody>
                    </table>
                </mat-card-content>
              </mat-card>
        </div>
    </div>
</div>

